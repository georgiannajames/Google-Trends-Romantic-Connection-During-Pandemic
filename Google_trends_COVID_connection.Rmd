---
title: 'Romantic Connection During a Public Health Crisis: What Do Internet-Search
  Rates Tell Us?'
author: "Georgianna James"
date: '2022-05-20'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Pandemic Dating and Google Trends

Terms:

* online dating
* love
* Dating apps
* Bumble
* Hinge
* date from home
* sex
* hugging
* kissing
* hookups
* Relationship
* Video dating
* Intimacy
* Romance
* Match
* First date etiquette
* Date ideas
* Outdoor dates

## Required Packages 

```{r}
library(gtrendsR)
library(tidyverse)
library(lubridate)
library(stargazer)

```

## "Online Dating" Data Collection

```{r}
onlinedating <- gtrends(
  c('online dating'),
  geo='US')

saveRDS(onlinedating, '/Users/georgiannajames/Desktop/onlinedating.RDS')

#Plot
plot(onlinedating)

```
```{r}

# create online dating data fram

write.csv(onlinedating$interest_over_time, "online_dating_interest_overtime.csv", row.names=TRUE)

online_dating <- read.csv("online_dating_interest_overtime.csv")


```

## "Love" Data Collection


```{r}
love <- gtrends(
  c('love'),
  geo='US')

saveRDS(love, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/love.RDS')

#Plot
plot(love)

```

```{r}
# create love data fram

write.csv(love$interest_over_time, "love.csv", row.names=TRUE)

love <- read.csv("love.csv")


```

## "Dating Apps" Data Collection

```{r}

dating_apps <- gtrends(
  c('dating apps'),
  geo='US')

saveRDS(dating_apps, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/dating_apps.RDS')

#Plot
plot(dating_apps)

```

```{r}
# create dating apps data frame

write.csv(dating_apps$interest_over_time, "dating_apps.csv", row.names=TRUE)

dating_apps <- read.csv("dating_apps.csv")

```

## "Bumble" Data Collection

```{r}

bumble <- gtrends(
  c('bumble'),
  geo='US')

saveRDS(bumble, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/bumble.RDS')

#Plot
plot(bumble)

```

```{r}
# create bumble data frame

write.csv(bumble$interest_over_time, "bumble.csv", row.names=TRUE)

bumble <- read.csv("bumble.csv")

```

## "Hinge" Data Collection

```{r}

hinge <- gtrends(
  c('hinge'),
  geo='US')

saveRDS(hinge, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/hinge.RDS')

#Plot
plot(hinge)

```

```{r}
# create a hinge data frame 

write.csv(hinge$interest_over_time, "hinge.csv", row.names=TRUE)

hinge <- read.csv("hinge.csv")


```

## "Date From Home" Data Collection

```{r}


date_from_home <- gtrends(
  c('date from home'),
  geo='US')

saveRDS(date_from_home, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/date_from_home.RDS')

#Plot
plot(date_from_home)

```

```{r}
# create date from home df


write.csv(date_from_home$interest_over_time, "date_from_home.csv", row.names=TRUE)

date_from_home <- read.csv("date_from_home.csv")

```


## "Sex" Data Collection

```{r}

sex <- gtrends(
  c('sex'),
  geo='US')

saveRDS(sex, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/sex.RDS')

#Plot
plot(sex)

```

```{r}
# create sex df

write.csv(sex$interest_over_time, "sex.csv", row.names=TRUE)

sex <- read.csv("sex.csv")


```
## "Hugging" Data Collection

```{r}

hugging <- gtrends(
  c('hugging'),
  geo='US')

saveRDS(hugging, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/hugging.RDS')

#Plot
plot(hugging)

```

```{r}

# create hugging df

write.csv(hugging$interest_over_time, "hugging.csv", row.names=TRUE)

hugging <- read.csv("hugging.csv")


```


## "Kissing" Data Collection

```{r}

Kissing <- gtrends(
  c('Kissing'),
  geo='US')

saveRDS(Kissing, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/Kissing.RDS')

#Plot
plot(Kissing)

```

```{r}
# create kissing df

write.csv(Kissing$interest_over_time, "Kissing.csv", row.names=TRUE)

Kissing <- read.csv("Kissing.csv")


```


## "hookups" Data Collection

```{r}

hookups <- gtrends(
  c('hookups'),
  geo='US')

saveRDS(hookups, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/hookups.RDS')

#Plot
plot(hookups)

```

```{r}
# create hookups df

write.csv(hookups$interest_over_time, "hookups.csv", row.names=TRUE)

hookups <- read.csv("hookups.csv")


```



## "relationships" Data Collection

```{r}

relationships <- gtrends(
  c('relationships'),
  geo='US')

saveRDS(relationships, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/relationships.RDS')

#Plot
plot(relationships)

```

```{r}
# create relationships df

write.csv(relationships$interest_over_time, "relationships.csv", row.names=TRUE)

relationships <- read.csv("relationships.csv")


```


## "video dating" Data Collection

```{r}

video_dating <- gtrends(
  c('video dating'),
  geo='US')

saveRDS(video_dating, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/video_dating.RDS')

#Plot
plot(video_dating)

```

```{r}
# create video dating df

write.csv(video_dating$interest_over_time, "video_dating.csv", row.names=TRUE)

video_dating <- read.csv("video_dating.csv")


```


## "intimacy" Data Collection

```{r}

intimacy <- gtrends(
  c('intimacy'),
  geo='US')

saveRDS(intimacy, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/intimacy.RDS')

#Plot
plot(intimacy)

```

```{r}
# create intimacy df

write.csv(intimacy$interest_over_time, "intimacy.csv", row.names=TRUE)

intimacy <- read.csv("intimacy.csv")


```


## "romance" Data Collection

```{r}

romance <- gtrends(
  c('romance'),
  geo='US')

saveRDS(romance, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/romance.RDS')

#Plot
plot(romance)

```

```{r}
# create romance df

write.csv(romance$interest_over_time, "romance.csv", row.names=TRUE)

romance <- read.csv("romance.csv")


```


## "match" Data Collection

```{r}


match <- gtrends(
  c('match'),
  geo='US')

saveRDS(romance, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/match.RDS')

#Plot
plot(match)

```

```{r}
# create match df

write.csv(match$interest_over_time, "match.csv", row.names=TRUE)

match <- read.csv("match.csv")


```


## "first date etiquette" Data Collection

```{r}

first_date_etiquette <- gtrends(
  c('first date etiquette'),
  geo='US')

saveRDS(first_date_etiquette, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/first_date_etiquette.RDS')

#Plot
plot(first_date_etiquette)

```

```{r}
# create a first date etiquette df

write.csv(first_date_etiquette$interest_over_time, "first_date_etiquette.csv", row.names=TRUE)

first_date_etiquette <- read.csv("first_date_etiquette.csv")

first_date_etiquette
```


## "date ideas" Data Collection

```{r}

date_ideas <- gtrends(
  c('date ideas'),
  geo='US')

saveRDS(date_ideas, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/date_ideas.RDS')

#Plot
plot(date_ideas)

```

```{r}
# create a date ideas df

write.csv(date_ideas$interest_over_time, "date_ideas.csv", row.names=TRUE)

date_ideas <- read.csv("date_ideas.csv")


```


## "outdoor dates" Data Collection

```{r}

outdoor_dates <- gtrends(
  c('outdoor dates'),
  geo='US')

saveRDS(outdoor_dates, '/Users/georgiannajames/Desktop/PSYC28791Final/RDS/outdoor_dates.RDS')

#Plot
plot(outdoor_dates)

```

```{r}
# create an outdoor dates df 
write.csv(outdoor_dates$interest_over_time, "outdoor_dates.csv", row.names=TRUE)

outdoor_dates <- read.csv("outdoor_dates.csv")

```


## Creating Pandemic Dating Terms Data Set

```{r}
# joining outdoor dates and date ideas
pandemic_dating <- full_join(outdoor_dates, date_ideas, by = "date") %>% 
  rename(outdoor_dates = hits.x, date_ideas = hits.y) %>% 
  select(date, outdoor_dates, date_ideas)
```


```{r}
# adding first date etiquette to df

pandemic_dating <-full_join(pandemic_dating, first_date_etiquette, by = "date") %>% 
  rename(first_date_etiquette = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette)
```


```{r}
# adding pandemic dating to df
pandemic_dating <-full_join(pandemic_dating, match, by = "date")%>% 
  rename(match = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match)
```

```{r}
# adding romance column 

pandemic_dating <-full_join(pandemic_dating, romance, by = "date")%>% 
  rename(romance = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance)
```

```{r}
# adding intimacy column

pandemic_dating <-full_join(pandemic_dating, intimacy, by = "date")%>% 
  rename(intimacy = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy)
```

```{r}
# adding video dating
pandemic_dating <-full_join(pandemic_dating, video_dating, by = "date")%>% 
  rename(video_dating = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating)
```

```{r}
# adding relationships column
pandemic_dating <-full_join(pandemic_dating, relationships, by = "date") %>% 
  rename(relationships = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating, relationships)
```

```{r}
# adding hookups columns

pandemic_dating <-full_join(pandemic_dating, hookups, by = "date") %>% 
    rename(hookups = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating, relationships, hookups)
  
```

```{r}
# adding kissing columns

pandemic_dating <-full_join(pandemic_dating, Kissing, by = "date") %>% 
    rename(kissing = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating, relationships, hookups, kissing)
```

```{r}
# adding hugging column

pandemic_dating <-full_join(pandemic_dating, hugging, by = "date") %>% 
    rename(hugging = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating, relationships, hookups, kissing, hugging)
```

```{r}
# adding sex column

pandemic_dating <-full_join(pandemic_dating, sex, by = "date") %>% 
    rename(sex = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating, relationships, hookups, kissing, hugging, sex)
```

```{r}
# adding date from home column

pandemic_dating <-full_join(pandemic_dating, date_from_home, by = "date") %>% 
    rename(date_from_home = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating, relationships, hookups, kissing, hugging, sex, date_from_home)
```

```{r}
# adding hinge column

pandemic_dating <-full_join(pandemic_dating, hinge, by = "date") %>% 
    rename(hinge = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating, relationships, hookups, kissing, hugging, sex, date_from_home, hinge)
```

```{r}
# adding bumble column

pandemic_dating <-full_join(pandemic_dating, bumble, by = "date") %>% 
    rename(bumble = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating, relationships, hookups, kissing, hugging, sex, date_from_home, hinge, bumble)
```


```{r}
# adding dating apps column

pandemic_dating <-full_join(pandemic_dating, dating_apps, by = "date") %>% 
    rename(dating_apps = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating, relationships, hookups, kissing, hugging, sex, date_from_home, hinge, bumble, dating_apps)
```

```{r}
# adding love column

pandemic_dating <-full_join(pandemic_dating, love, by = "date") %>% 
    rename(love = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating, relationships, hookups, kissing, hugging, sex, date_from_home, hinge, bumble, dating_apps, love)
```

```{r}
# add online dating column

pandemic_dating <-full_join(pandemic_dating, online_dating, by = "date") %>% 
    rename(online_dating = hits) %>% 
   select(date, outdoor_dates, date_ideas, first_date_etiquette, match, romance, intimacy, video_dating, relationships, hookups, kissing, hugging, sex, date_from_home, hinge, bumble, dating_apps, love, online_dating)
```

```{r}

# making the date column a date value

(pandemic_dating <- pandemic_dating %>% 
  mutate(date = ymd(date)))
``` 
```{r}
# creating a dummy for before and after the start of the pandemic in the US (01/20/2020 was the first confirmed positive patient)

pandemic_dating <- pandemic_dating %>% 
  mutate(
    pandemic = ifelse(date %within% interval(ymd(20170521), ymd(20200120)), 0, 1)
  )
```

```{r}
pandemic_dating
```



```{r}
outdoor_dates_regression <- lm(outdoor_dates ~ pandemic, data = pandemic_dating)

stargazer(outdoor_dates_regression,
           type = "text",
  digits=3, out = "table1.txt")

```


```{r}
date_ideas_regression <- lm(date_ideas ~ pandemic, data = pandemic_dating)

stargazer(date_ideas_regression,
           type = "text",
  title="Effects of Pandemic", 
  dep.var.labels=c("Outdoor Dates"),
  covariate.labels=c("Treatment","Control Mean"),
  digits=3, out = "table1.txt")
```
```{r}
first_date_etiquette_regression <- lm(first_date_etiquette ~ pandemic, data = pandemic_dating)

stargazer(first_date_etiquette_regression,
           type = "text",
  title="Effects of Pandemic", 
  dep.var.labels=c("Outdoor Dates"),
  covariate.labels=c("Treatment","Control Mean"),
  digits=3, out = "table1.txt")
```

```{r}
match_regression <- lm(match ~ pandemic, data = pandemic_dating)

stargazer(match_regression,
           type = "text",
  title="Effects of Pandemic", 
  dep.var.labels=c("Outdoor Dates"),
  covariate.labels=c("Treatment","Control Mean"),
  digits=3, out = "table1.txt")
```

```{r}
romance_regression <- lm(romance ~ pandemic, data = pandemic_dating)

stargazer(romance_regression,
           type = "text",
  title="Effects of Pandemic", 
  dep.var.labels=c("Outdoor Dates"),
  covariate.labels=c("Treatment","Control Mean"),
  digits=3, out = "table1.txt")
```

```{r}
intimacy_regression <- lm(intimacy ~ pandemic, data = pandemic_dating)

stargazer(intimacy_regression,
           type = "text",
  title="Effects of Pandemic", 
  dep.var.labels=c("Outdoor Dates"),
  covariate.labels=c("Treatment","Control Mean"),
  digits=3, out = "table1.txt")
```
```{r}
video_dating_regression <- lm(video_dating ~ pandemic, data = pandemic_dating)

stargazer(video_dating_regression,
           type = "text",
  title="Effects of Pandemic", 
  dep.var.labels=c("Outdoor Dates"),
  covariate.labels=c("Treatment","Control Mean"),
  digits=3, out = "table1.txt")
```

```{r}
relationships_regression <- lm(relationships ~ pandemic, data = pandemic_dating)

stargazer(relationships_regression,
           type = "text",
  title="Effects of Pandemic", 
  dep.var.labels=c("Outdoor Dates"),
  covariate.labels=c("Treatment","Control Mean"),
  digits=3, out = "table1.txt")
```

